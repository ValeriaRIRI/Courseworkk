# Курсовая работа
# Программа для работы с кусочно-заданной функцией

## Постановка задачи
Реализовать интерактивную программу на языке C для работы с кусочно-заданной функцией:
<img width="739" height="234" alt="Снимок экрана 2025-12-16 150147" src="https://github.com/user-attachments/assets/27a68eb5-6e9f-4ab4-8d45-5436ca2a5c64" />

**Программа поддерживает**:
- Вычисление f(x) в заданной точке
- Построение таблицы значений на интервале
- Поиск корней уравнения f(x) = y методом бисекции
- Вычисление производной f'(x) по определению
## Структура проекта
project/  
├── main.c # Основной файл с реализациеq  
|  
├── errors.log # Автоматически создается (лог ошибок)  
|  
└── README.md # Документация  

## Структура программы

  - Директивы предпроцессора:
    - _CRT_SECURE_NO_DEPRECATE, _CRT_SECURE_NO_WARNINGS
    - _USE_MATH_DEFINES
    - N_TERMS = 12 (число членов ряда Тейлора)

  - Подключаемые библиотеки:

    - stdio.h — ввод/вывод, файлы
    - locale.h — русская локализация
    - math.h — математические функции 
    - time.h — временные метки для логов

  - Глобальные переменные:

    - FILE* log_file = NULL — указатель на файл ошибок
    - main():
    - setlocale(LC_ALL, "RUS")

    - Вывод описания кусочной функции f(x)
    - Цикл do-while(c != 0):
    - Меню: 1=f(x), 2=Таблица, 3=Корень, 4=Производная, 0=Выход
    - switch(c) вызывает операции над функцией
    - fclose(log_file) при выходе

  - Основная функция f(double x):
    - x < -2 → cbrt(x)
    - -2 ≤ x < 0 → sin(x)/x² (с проверкой x≈0 → NAN)
    - x ≥ 0 → ряд Тейлора ∑(-1)^n·x^(2n+1)/(2n+1)! , n=0..12

  - Вспомогательные функции вычислений:

    - factorial(int n) — факториал циклом умножения
    - search_root(a,b,ε,y) — метод бисекции f(x)=y
    - derivative(x,h) — [f(x+h)-f(x-h)]/(2h)
  
  - Система логирования:
    - open_log() — fopen("errors.log", "a")
    - log_error(message) — запись в файл + консоль с timestamp

## Реализованные функции
### 1. `double factorial(int n)`
- **Назначение**: Вычисление факториала заданного числа
- **Параметры**: 
  - `n` - неотрицательное целое число
- **Возвращает**: факториал(!n) числа n
### 2. `double f(double x)`
- **Назначение**: Вычисление кусочно-заданной функции f(x)
- **Параметры**: 
  - `x` - аргумент функции
- **Возвращает**: f(x)
### 3. `double search_root(double a, double b, double epsilon, double y)`
- **Назначение**: Вычисление кусочно-заданной функции f(x)
- **Параметры**: 
  - `a, b` - границы интервала поиска
  - `epsilon` - точность вычислений
  - `y` - искомое значение функции
- **Возвращает**: приближенное значение корня
### 4. `double derivative(double x, double h)`
- **Назначение**: Вычисление первой производной
- **Параметры**: 
  - `x` - точка дифференцирования
  - `h` - шаг(точность) дифференцирования
- **Возвращает**: приближённое значение f'(x)
### 5. `int open_log()`
- **Назначение**: Открытие лога "errors.log"
- **Возвращает**: 0
### 6. `int log_error(const char* message)`
- **Назначение**: Логирование ошибок с временной меткой
- **Параметры**
  - `message` - текст ошибки 
- **Возвращает**: 0
- 
## Контрольные примеры

### 1. Вычисление f(x)
x = -8 → f(-8) = -2.00000 (³√(-8))  
x = -1 → f(-1) = 0.84147 (sin(-1)/(-1)²)  
x = 1 → f(1) ≈ 0.84147 (ряд Тейлора)  
x = 0 → 0 (ряд Тейлора)  

### 2. Таблица значений x -> f(x)
 |     x   |   f(x)  |  
 |---------|---------|  
 | -3.00000| -1.44225|  
 | -2.50000| -1.35721|  
 | -2.00000| -1.25992|  
 | -1.50000| -0.91202|  
 | -1.00000| -0.84147|  
 | -0.50000|  0.86033|  
 |  0.00000|  0.00000|    
 |  0.50000|  0.95885|  
 |  1.00000|  0.84147|  

### 3. Поиск корня f(x) = 0.5
[a = -1, b = 1, y = 0.5, e = 0.001]  
→ x ≈ 0.5236 (точность 0.001)  
  
### 4. Производная  
[x=1, h=0.001] → f'(1) ≈ -0.54030

## Формат данных
## Входные данные
  - x (аргумент функции): любое вещественное число double
  - a, b (интервал поиска): вещественные числа, где a < b
  - y (уровень для поиска корня f(x) = y): любое вещественное число double
  - epsilon (точность): положительное число double (> 0)
  - h (приращение для производной): любое вещественное число кроме 0
  - s (шаг таблицы): положительное число при a < b, отрицательное при a > b
## Выходные данные
**text**
  - f(x) = double (значение функции или NaN при неопределённости)
  - root = double (найденный корень или NaN при отсутствии)
  - f'(x) = double (производная или NaN при ошибке)
  - Таблица: | x (10.5f) | f(x) (10.5f) | или "Не определено"
